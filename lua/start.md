# 前言

## 声明
本章内容不会过多赘述lua基础的语法，我们只会探讨一些不那么容易理解的概念。如果读者对lua基础语法的掌握不牢靠，请自行学习。参阅[菜鸟教程-Lua](https://www.runoob.com/lua/lua-tutorial.html)

本章节探讨的内容仅限于lua，对于C层，我们仅仅只会略微讲解实现原理，不会过多深入。

## 为什么选择lua？

lua是一门简洁灵活的编程语言，它的学习成本非常低。并且lua和C++的交互非常便捷，它们可以很方便的互相调用，这使得零点构建lua运行时环境变得非常简单。

但是，使用lua编程需要注意一些看起来无伤大雅的细节问题。

## 滥用魔数

在GameGuardian上，几乎全部的开发者都有滥用[魔数](lua/name.md?id=魔数)的问题。

GameGuardian脚本中，不可避免的要使用到魔数。例如基址的偏移、特征码、特征码的偏移等等。

但是有一些魔术是可以避免的，例如GG的一些API，需要选择搜索的内存和类型，在GG提供的标准库中，已经提供的具体选项的枚举。例如*gg.REGION_ANONYMOUS*表示A内存，
但是大量开发者在应该写*gg.REGION_ANONYMOUS*的地方直接填写它的数值32。  
例如*gg.TYPE_DWORD*表示整数型，但是大量开发者在应该填写*gg.TYPE_DWORD*的地方直接填写它的数值4。

这样导致的结果就是，代码的可读性变得极低，难以维护。

## 使用MT进行编程工作

MT是文本编辑器，使用MT编辑源码，不可避免的会想要避免填写冗长的枚举，但是直接填写枚举的值是**绝不可取**的！

读者应该使用现代集成开发环境(IDE)来编写lua源码，例如VS Code。它会在你需要输入冗长的字段时帮你填充，能够方便的排查错误，方便的调试代码。请立即抛弃手机上的MT<u>**文件**</u>管理器，文件管理器就只配用来管理文件，用它写代码只会妨碍你。

## 变态的缩进

代码缩进能帮助读者理解代码层次关系，将大段大段的lua源码写在一行绝不可取！

!> 所谓，细节决定成败。

